<!DOCTYPE html>
<html lang="pt-br">
<head>
            <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=720px, initial-scale=1.0">

    <title>Selecione a chave Pix</title>
    <link rel="stylesheet" href="chavePix.css">
    <link rel="stylesheet" href="footerStyle.css">
</head>
<body id="body">    
    <div>
        <header>
            <img src="img/escolhaChavePix/back.png" onclick="window.location.href = 'telaPix.html'">
            <p>escolha a chave</p>
        </header>

        <!--celular-->
        <div id="containerbtns_celular" class="containerbtns">
            <div class="btns" id="btnChaveAleatiria" onclick="clickBtn('containerbtns_aleatoria', 'chaveAleatoria')">
                <img id="imgBtnChaveAleatiria" src="img/escolhaChavePix/chavePix_aleatoria.png" alt="">
                <p>chave aleatória</p>
            </div>
            <div class="btns" id="btnAgConta" onclick="clickBtn('containerbtns_agConta', 'agConta')">
                <img id="imgBtnAgConta" src="img/escolhaChavePix/chavePix_agConta.png" alt="">
                <p>ag/conta</p>
            </div>
            <div class="btns destaqueImg" id="btnCelular" onclick="clickBtn('containerbtns_celular', 'celular')">
                <img id="imgBtnCelular" src="img/escolhaChavePix/chavePix_celular.png" alt="">
                <p>celular</p>
            </div>
            <div class="btns" id="btnEmail" onclick="clickBtn('containerbtns_email', 'email')">
                <img id="imgBtnEmail" src="img/escolhaChavePix/chavePix_email.png" alt="">
                <p>e-mail</p>
            </div>
            <div class="btns" id="btnCpf" onclick="clickBtn('containerbtns_cpf', 'cpf')">
                <img id="imgBtnCpf" src="img/escolhaChavePix/chavePix_cpf.png" alt="">
                <p>CPF/CNPJ</p>
            </div>
        </div>

        <!--email-->
        <div id="containerbtns_email" class="containerbtns">
            <div class="btns" id="btnAgConta" onclick="clickBtn('containerbtns_agConta', 'agConta')">
                <img id="imgBtnAgConta" src="img/escolhaChavePix/chavePix_agConta.png" alt="">
                <p>ag/conta</p>
            </div>
            <div class="btns" id="btnCelular" onclick="clickBtn('containerbtns_celular', 'celular')">
                <img id="imgBtnCelular" src="img/escolhaChavePix/chavePix_celular.png" alt="">
                <p>celular</p>
            </div>
            <div class="btns destaqueImg" id="btnEmail" onclick="clickBtn('containerbtns_email', 'email')">
                <img id="imgBtnEmail" src="img/escolhaChavePix/chavePix_email.png" alt="">
                <p>e-mail</p>
            </div>
            <div class="btns" id="btnCpf" onclick="clickBtn('containerbtns_cpf', 'cpf')">
                <img id="imgBtnCpf" src="img/escolhaChavePix/chavePix_cpf.png" alt="">
                <p>CPF/CNPJ</p>
            </div>
            <div class="btns" id="btnChaveAleatiria" onclick="clickBtn('containerbtns_aleatoria', 'chaveAleatoria')">
                <img id="imgBtnChaveAleatiria" src="img/escolhaChavePix/chavePix_aleatoria.png" alt="">
                <p>chave aleatória</p>
            </div>
        </div>

        <!--cpf-->
        <div id="containerbtns_cpf" class="containerbtns">
            <div class="btns" id="btnCelular" onclick="clickBtn('containerbtns_celular', 'celular')">
                <img id="imgBtnCelular" src="img/escolhaChavePix/chavePix_celular.png" alt="">
                <p>celular</p>
            </div>
            <div class="btns" id="btnEmail" onclick="clickBtn('containerbtns_email', 'email')">
                <img id="imgBtnEmail" src="img/escolhaChavePix/chavePix_email.png" alt="">
                <p>e-mail</p>
            </div>
            <div class="btns destaqueImg" id="btnCpf" onclick="clickBtn('containerbtns_cpf', 'cpf')">
                <img id="imgBtnCpf" src="img/escolhaChavePix/chavePix_cpf.png" alt="">
                <p>CPF/CNPJ</p>
            </div>
            <div class="btns" id="btnChaveAleatiria" onclick="clickBtn('containerbtns_aleatoria', 'chaveAleatoria')">
                <img id="imgBtnChaveAleatiria" src="img/escolhaChavePix/chavePix_aleatoria.png" alt="">
                <p>chave aleatória</p>
            </div>
            <div class="btns" id="btnAgConta" onclick="clickBtn('containerbtns_agConta', 'agConta')">
                <img id="imgBtnAgConta" src="img/escolhaChavePix/chavePix_agConta.png" alt="">
                <p>ag/conta</p>
            </div>
        </div>

        <!--aleatoria-->
        <div id="containerbtns_aleatoria" class="containerbtns">
            <div class="btns" id="btnEmail" onclick="clickBtn('containerbtns_email', 'email')">
                <img id="imgBtnEmail" src="img/escolhaChavePix/chavePix_email.png" alt="">
                <p>e-mail</p>
            </div>
            <div class="btns" id="btnCpf" onclick="clickBtn('containerbtns_cpf', 'cpf')">
                <img id="imgBtnCpf" src="img/escolhaChavePix/chavePix_cpf.png" alt="">
                <p>CPF/CNPJ</p>
            </div>
            <div class="btns destaqueImg" id="btnChaveAleatiria" onclick="clickBtn('containerbtns_aleatoria', 'chaveAleatoria')">
                <img id="imgBtnChaveAleatiria" src="img/escolhaChavePix/chavePix_aleatoria.png" alt="">
                <p>chave aleatória</p>
            </div>
            <div class="btns" id="btnAgConta" onclick="clickBtn('containerbtns_agConta', 'agConta')">
                <img id="imgBtnAgConta" src="img/escolhaChavePix/chavePix_agConta.png" alt="">
                <p>ag/conta</p>
            </div>
            <div class="btns" id="btnCelular" onclick="clickBtn('containerbtns_celular', 'celular')">
                <img id="imgBtnCelular" src="img/escolhaChavePix/chavePix_celular.png" alt="">
                <p>celular</p>
            </div>
        </div>
        
        <!--agConta-->
        <div id="containerbtns_agConta" class="containerbtns">
            <div class="btns" id="btnCpf" onclick="clickBtn('containerbtns_cpf', 'cpf')">
                <img id="imgBtnCpf" src="img/escolhaChavePix/chavePix_cpf.png" alt="">
                <p>CPF/CNPJ</p>
            </div>
            <div class="btns" id="btnChaveAleatiria" onclick="clickBtn('containerbtns_aleatoria', 'chaveAleatoria')">
                <img id="imgBtnChaveAleatiria" src="img/escolhaChavePix/chavePix_aleatoria.png" alt="">
                <p>chave aleatória</p>
            </div>
            <div class="btns destaqueImg" id="btnAgConta" onclick="clickBtn('containerbtns_agConta', 'agConta')">
                <img id="imgBtnAgConta" src="img/escolhaChavePix/chavePix_agConta.png" alt="">
                <p>ag/conta</p>
            </div>
            <div class="btns" id="btnCelular" onclick="clickBtn('containerbtns_celular', 'celular')">
                <img id="imgBtnCelular" src="img/escolhaChavePix/chavePix_celular.png" alt="">
                <p>celular</p>
            </div>
            <div class="btns" id="btnEmail" onclick="clickBtn('containerbtns_email', 'email')">
                <img id="imgBtnEmail" src="img/escolhaChavePix/chavePix_email.png" alt="">
                <p>e-mail</p>
            </div>
        </div>

    </div>

    <main>
        <div id="celularInput" class="containerForm">
            <p id="labelContainerInput">digite a chave</p>
            <div>
                <div class="containerDDD">
                    <p>+55</p>
                </div>
                <div class="containerInputChave containerTel">
                    <input class="input" type="tel" placeholder="(00) 0 0000 0000" maxlength="16" id="celular">
                </div>
            </div>
        </div>

        <div id="cpfInput" class="containerForm">
            <p id="labelContainerInput">digite a chave</p>
            <div>
                <div class="containerInputChave">
                    <input class="input" type="text" placeholder="000.000.000-00" maxlength="14" id="cpf">
                </div>
            </div>
        </div>

        <div id="chaveAleatoriaInput" class="containerForm">
            <p id="labelContainerInput">digite a chave</p>
            <div>
                <div class="containerInputChave">
                    <input class="input" type="text" placeholder="abc123" id="chaveAleatoria">
                </div>
            </div>
        </div>

        <div id="agContaInput" class="containerForm">
            <p id="labelContainerInput">busque a instituição</p>
            <div>
                <div class="containerInputChave">
                    <input class="input" type="search" placeholder="buscar instituição" id="agConta">
                </div>
            </div>
        </div>

        <div id="emailInput" class="containerForm">
            <p id="labelContainerInput">digite a chave</p>
            <div>
                <div class="containerInputChave">
                    <input class="input" type="email" placeholder="nome@email.com" id="email">
                </div>
            </div>
        </div>


        </div>
    </main>

    <footer>
        <input id="btnNext" type="button" value="continuar" onclick="continuar()">
    </footer>


    <script>
        function clickBtn(idBtn, typeKey){
            noColorBtnNext();
            let containerbtns = document.querySelectorAll(".containerbtns");

            for (let i = 0; i < containerbtns.length; i++) {
                containerbtns[i].style.display="none";
                
            }
            document.getElementById(idBtn).style.display = "flex"

            let containerForm = document.querySelectorAll(".containerForm");

            for (let i = 0; i < containerForm.length; i++) {
                containerForm[i].style.display="none";
                
            }

            document.getElementById(typeKey + "Input").style.display = "block"
        }

        input_celular = document.getElementById("celular")
        input_cpf = document.getElementById("cpf")
        input_agConta = document.getElementById("agConta")
        input_email = document.getElementById("email")
        input_chaveAleatoria = document.getElementById("chaveAleatoria")


        input_celular.addEventListener('input', (e)=>{ 
            if (input_celular.value.length == 2) {
                input_celular.value = "(" + input_celular.value + ") "
            }
            else if (input_celular.value.length == 6) {
                input_celular.value = input_celular.value + " "
            }
            else if (input_celular.value.length == 11) {
                input_celular.value = input_celular.value + " "
            }
            else if (input_celular.value.length == 16) {
                colorBtnNext()
            }
        })

        input_email.addEventListener('input', (e)=>{ 
            if (input_email.value.indexOf("@") != '-1' && input_email.value.indexOf(".com") != '-1') {
                colorBtnNext()
            }       
        })

        input_cpf.addEventListener('input', (e)=>{ 
            if (input_cpf.value.length == 3 || input_cpf.value.length == 7) {
                input_cpf.value = input_cpf.value + '.'
            }
            else if(input_cpf.value.length == 11){
                input_cpf.value = input_cpf.value + '-'
            }
            else if(input_cpf.value.length == 14){
                colorBtnNext()
            }  
        })

        function colorBtnNext(){
            document.getElementById("btnNext").disabled = false;
            document.getElementById("btnNext").style.backgroundColor = "var(--colorRosa)"
            document.getElementById("btnNext").style.color = "white"
        }
        function noColorBtnNext(){
            document.getElementById("btnNext").disabled = true;
            document.getElementById("btnNext").style.backgroundColor = "#dcdcdc"
            document.getElementById("btnNext").style.color = "#cecece"
        }
    
        function continuar(){
            if (document.getElementById("celularInput").style.display != "none") {
                localStorage.setItem("chaveUsada", document.getElementById("celular").value) 
            }
            else if (document.getElementById("cpfInput").style.display != "none") {
                localStorage.setItem("chaveUsada", document.getElementById("cpf").value) 
            }
            else if (document.getElementById("chaveAleatoriaInput").style.display != "none") {
                localStorage.setItem("chaveUsada", document.getElementById("chaveAleatoria").value) 
            }
            else if (document.getElementById("agContaInput").style.display != "none") {
                localStorage.setItem("chaveUsada", document.getElementById("agConta").value) 
            }
            else if (document.getElementById("emailInput").style.display != "none") {
                localStorage.setItem("chaveUsada", document.getElementById("email").value) 
            }


            window.location.href='valorPix.html'
        }
    </script>
    <script src="controllerMain.js"></script>
</body>
</html>